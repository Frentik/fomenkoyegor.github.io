(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Ky1x:function(t,l,n){"use strict";n.r(l);var e=n("8Y7J");class o{}var i=n("pMnS"),r=n("iInd");class s{constructor(){}ngOnInit(){}}var c=e.kb({encapsulation:0,styles:[[""]],data:{}});function u(t){return e.Eb(0,[(t()(),e.mb(0,0,null,null,6,"div",[["class","item"]],null,null,null,null,null)),(t()(),e.mb(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),e.Cb(2,null,["",""])),(t()(),e.mb(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),e.Cb(4,null,["",""])),(t()(),e.mb(5,0,null,null,1,"img",[["width","100%"]],[[8,"src",4],[8,"alt",0]],[[null,"click"]],function(t,l,n){var o=!0;return"click"===l&&(o=!1!==e.vb(t,6).onClick()&&o),o},null,null)),e.lb(6,16384,null,0,r.l,[r.k,r.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null)],function(t,l){t(l,6,0,e.ob(1,"/rickandmorty/",l.component.item.id,""))},function(t,l){var n=l.component;t(l,2,0,n.item.id),t(l,4,0,n.item.name),t(l,5,0,e.ob(1,"",n.item.image,""),e.ob(1,"",n.item.name,""))})}var a=n("LRne"),h=n("xgIS"),f=n("5+tZ"),p=n("lJxs"),d=n("vkgz"),b=n("pLZG"),g=n("7o/Q"),m=n("D0XW");class w{constructor(t,l){this.period=t,this.scheduler=l}call(t,l){return l.subscribe(new S(t,this.period,this.scheduler))}}class S extends g.a{constructor(t,l,n){super(t),this.period=l,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(y,l,{subscriber:this,period:l}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function y(t){let{subscriber:l,period:n}=t;l.notifyNext(),this.schedule(t,n)}function T(t,l,n,e){const o=window&&!!window.document&&window.document.documentElement;let i=o&&l?window:n;if(t&&!(i=t&&o&&"string"==typeof t?function(t,l,e){return(e?window.document:n.nativeElement).querySelector(t)}(t,0,e):t))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return i}function v(t){return t&&!t.firstChange}const k={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},O={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class D{constructor(t=!0){this.vertical=t,this.propsMap=t?k:O}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function C(t){return["Window","global"].some(l=>Object.prototype.toString.call(t).includes(l))}function E(t,l){return t?l.document.documentElement:null}function I(t,l){const n=function({container:t,isWindow:l,axis:n}){const{offsetHeightKey:e,clientHeightKey:o}=W(n);return H(t,l,e,o)}(l);return l.isWindow?function(t,l,n){const{axis:e,container:o,isWindow:i}=n,{offsetHeightKey:r,clientHeightKey:s}=W(e),c=t+K(E(i,o),e,i),u=H(l.nativeElement,i,r,s);return{height:t,scrolled:c,totalToScroll:function(t,l,n){const e=l.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[e]+K(t,l,n)}(l.nativeElement,e,i)+u,isWindow:i}}(n,t,l):function(t,l,n){const{axis:e,container:o}=n;return{height:t,scrolled:o[e.scrollTopKey()],totalToScroll:o[e.scrollHeightKey()],isWindow:!1}}(n,0,l)}function W(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function H(t,l,n,e){if(isNaN(t[n])){const n=E(l,t);return n?n[e]:0}return t[n]}function K(t,l,n){const e=l.pageYOffsetKey(),o=l.scrollTopKey(),i=l.offsetTopKey();return isNaN(window[e])?E(n,t)[o]:t.ownerDocument?t.ownerDocument.defaultView[e]:t[i]}function x(t,l,n){let e,o;if(t.totalToScroll<=0)return!1;const i=t.isWindow?t.scrolled:t.height+t.scrolled;return n?(e=(t.totalToScroll-i)/t.totalToScroll,o=l.down/10):(e=t.scrolled/(t.scrolled+(t.totalToScroll-i)),o=l.up/10),e<=o}class P{constructor({totalToScroll:t}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=t}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,l){this.updateScrollPosition(t),this.updateTotalToScroll(l)}updateTriggeredFlag(t,l){l?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,l){return l?this.triggered.down===t:this.triggered.up===t}}const j={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function M(t){const{scrollDown:l,stats:{scrolled:n}}=t;return{type:l?j.DOWN:j.UP,payload:{currentScrollPosition:n}}}const N=(()=>(class{constructor(t,l){this.element=t,this.zone=l,this.scrolled=new e.m,this.scrolledUp=new e.m,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:t,infiniteScrollDisabled:l,infiniteScrollDistance:n}){const e=v(t),o=v(l),i=v(n),r=!o&&!this.infiniteScrollDisabled||o&&!l.currentValue||i;(e||o||i)&&(this.destroyScroller(),r&&this.setup())}setup(){"undefined"!=typeof window&&this.zone.runOutsideAngular(()=>{this.disposeScroller=function(t){const{scrollContainer:l,scrollWindow:n,element:e,fromRoot:o}=t,i=function({windowElement:t,axis:l}){return function(t,l){return Object.assign({},t,{container:t.isWindow||l&&!l.nativeElement?l:l.nativeElement})}({axis:l,isWindow:C(t)},t)}({axis:new D(!t.horizontal),windowElement:T(l,n,e,o)}),r=new P({totalToScroll:I(e,i)}),s={up:t.upDistance,down:t.downDistance};return function(t){let l=Object(h.a)(t.container,"scroll");return t.throttle&&(l=l.pipe(function(t,l=m.a){return n=>n.lift(new w(t,l))}(t.throttle))),l}({container:i.container,throttle:t.throttle}).pipe(Object(f.a)(()=>Object(a.a)(I(e,i))),Object(p.a)(t=>(function(t,l,n){const{scrollDown:e,fire:o}=function(t,l,n){const e=function(t,l){return t<l.scrolled}(t,l);return{fire:x(l,n,e),scrollDown:e}}(t,l,n);return{scrollDown:e,fire:o,stats:l}})(r.lastScrollPosition,t,s)),Object(d.a)(({stats:t})=>r.updateScroll(t.scrolled,t.totalToScroll)),Object(b.a)(({fire:l,scrollDown:n,stats:{totalToScroll:e}})=>(function(t,l,n){return!(!t||!l)||!(n||!l)})(t.alwaysCallback,l,r.isTriggeredScroll(e,n))),Object(d.a)(({scrollDown:t,stats:{totalToScroll:l}})=>{r.updateTriggeredFlag(l,t)}),Object(p.a)(M))}({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(t=>this.zone.run(()=>this.handleOnScroll(t)))})}handleOnScroll({type:t,payload:l}){switch(t){case j.DOWN:return this.scrolled.emit(l);case j.UP:return this.scrolledUp.emit(l);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}))(),U=(()=>(class{}))();var V=n("SVse"),G=n("2Vo4"),z=n("IheW");const{log:R}=console,$=(()=>{class t{constructor(t){this.http=t,this.pages=25,this.startPage=0,this.characterUrl="https://rickandmortyapi.com/api/character/",this.charackters$=new G.a([]),this.getCharacters()}getCharacters(){this.startPage>=this.pages?this.startPage=0:this.startPage++,R(this.startPage),this.onGetCharacters(this.startPage).pipe(Object(d.a)(t=>this.charackters$.next(this.charackters$.value.concat(t)))).subscribe()}onGetCharacters(t){return this.http.get(`${this.characterUrl}?page=`+t).pipe(Object(p.a)(t=>t.results))}onGetCharacterById(t){return this.http.get(this.characterUrl+t)}}return t.ngInjectableDef=e.Gb({factory:function(){return new t(e.Kb(z.c))},token:t,providedIn:"root"}),t})();class B{constructor(t){this.rickandmortyService=t}ngOnInit(){}onScroll(){this.rickandmortyService.getCharacters()}}var J=e.kb({encapsulation:0,styles:[[".items[_ngcontent-%COMP%]{height:65vh;overflow-y:scroll;display:grid;grid-template-columns:repeat(4,1fr);grid-column-gap:1em;padding:1em}"]],data:{}});function Y(t){return e.Eb(0,[(t()(),e.mb(0,0,null,null,1,"app-item",[],null,null,null,u,c)),e.lb(1,114688,null,0,s,[],{item:[0,"item"]},null)],function(t,l){t(l,1,0,l.context.$implicit)},null)}function L(t){return e.Eb(0,[(t()(),e.mb(0,0,null,null,3,"div",[["class","items"],["infiniteScroll",""]],null,[[null,"scrolled"]],function(t,l,n){var e=!0;return"scrolled"===l&&(e=!1!==t.component.onScroll()&&e),e},null,null)),e.lb(1,4866048,null,0,N,[e.k,e.x],{infiniteScrollDistance:[0,"infiniteScrollDistance"],infiniteScrollThrottle:[1,"infiniteScrollThrottle"],scrollWindow:[2,"scrollWindow"]},{scrolled:"scrolled"}),(t()(),e.bb(16777216,null,null,1,null,Y)),e.lb(3,278528,null,0,V.j,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],function(t,l){t(l,1,0,2,50,!1),t(l,3,0,l.context.ngIf)},null)}function F(t){return e.Eb(0,[(t()(),e.Cb(-1,null,[" ...\n"]))],null,null)}function X(t){return e.Eb(0,[(t()(),e.bb(16777216,null,null,2,null,L)),e.lb(1,16384,null,0,V.k,[e.M,e.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),e.wb(131072,V.b,[e.h]),(t()(),e.bb(0,[["loader",2]],null,0,null,F))],function(t,l){var n=l.component;t(l,1,0,e.Db(l,1,0,e.vb(l,2).transform(n.rickandmortyService.charackters$)),e.vb(l,3))},null)}class _{constructor(){}ngOnInit(){}}var q=e.kb({encapsulation:0,styles:[[""]],data:{}});function A(t){return e.Eb(0,[(t()(),e.mb(0,0,null,null,1,"app-items",[],null,null,null,X,J)),e.lb(1,114688,null,0,B,[$],null,null)],function(t,l){t(l,1,0)},null)}function Z(t){return e.Eb(0,[(t()(),e.mb(0,0,null,null,1,"app-index",[],null,null,null,A,q)),e.lb(1,114688,null,0,_,[],null,null)],function(t,l){t(l,1,0)},null)}var Q=e.ib("app-index",_,Z,{},{},[]);class tt{constructor(t,l){this.rickandmortyService=t,this.route=l}ngOnInit(){this.route.params.subscribe(t=>this.onGetCharacterById(t.id))}onGetCharacterById(t){this.item$=this.rickandmortyService.onGetCharacterById(t)}}var lt=e.kb({encapsulation:0,styles:[[""]],data:{}});function nt(t){return e.Eb(0,[(t()(),e.mb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),e.mb(1,0,null,null,1,"app-item",[],null,null,null,u,c)),e.lb(2,114688,null,0,s,[],{item:[0,"item"]},null)],function(t,l){t(l,2,0,l.context.ngIf)},null)}function et(t){return e.Eb(0,[(t()(),e.Cb(-1,null,[" loading . . . "]))],null,null)}function ot(t){return e.Eb(0,[(t()(),e.mb(0,0,null,null,4,"div",[["class","page person-page"]],null,null,null,null,null)),(t()(),e.bb(16777216,null,null,2,null,nt)),e.lb(2,16384,null,0,V.k,[e.M,e.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),e.wb(131072,V.b,[e.h]),(t()(),e.bb(0,[["loader",2]],null,0,null,et))],function(t,l){var n=l.component;t(l,2,0,e.Db(l,2,0,e.vb(l,3).transform(n.item$)),e.vb(l,4))},null)}function it(t){return e.Eb(0,[(t()(),e.mb(0,0,null,null,1,"app-person-page",[],null,null,null,ot,lt)),e.lb(1,114688,null,0,tt,[$,r.a],null,null)],function(t,l){t(l,1,0)},null)}var rt=e.ib("app-person-page",tt,it,{},{},[]);class st{}n.d(l,"RickandmortyPageModuleNgFactory",function(){return ct});var ct=e.jb(o,[],function(t){return e.tb([e.ub(512,e.j,e.W,[[8,[i.a,Q,rt]],[3,e.j],e.v]),e.ub(4608,V.m,V.l,[e.s,[2,V.w]]),e.ub(1073742336,V.c,V.c,[]),e.ub(1073742336,r.o,r.o,[[2,r.t],[2,r.k]]),e.ub(1073742336,st,st,[]),e.ub(1073742336,U,U,[]),e.ub(1073742336,o,o,[]),e.ub(1024,r.i,function(){return[[{path:"",component:_},{path:":id",component:tt}]]},[])])})}}]);