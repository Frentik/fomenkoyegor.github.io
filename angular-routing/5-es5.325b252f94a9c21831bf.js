(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Ky1x:function(t,n,l){"use strict";l.r(n);var e=l("CcnG"),o=function(){return function(){}}(),i=l("pMnS"),r=l("ZYCi"),u=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),c=e.mb({encapsulation:0,styles:[[""]],data:{}});function s(t){return e.Gb(0,[(t()(),e.ob(0,0,null,null,6,"div",[["class","item"]],null,null,null,null,null)),(t()(),e.ob(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),e.Eb(2,null,["",""])),(t()(),e.ob(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),e.Eb(4,null,["",""])),(t()(),e.ob(5,0,null,null,1,"img",[["width","100%"]],[[8,"src",4],[8,"alt",0]],[[null,"click"]],function(t,n,l){var o=!0;return"click"===n&&(o=!1!==e.xb(t,6).onClick()&&o),o},null,null)),e.nb(6,16384,null,0,r.l,[r.k,r.a,[8,null],e.D,e.k],{routerLink:[0,"routerLink"]},null)],function(t,n){t(n,6,0,e.qb(1,"/rickandmorty/",n.component.item.id,""))},function(t,n){var l=n.component;t(n,2,0,l.item.id),t(n,4,0,l.item.name),t(n,5,0,e.qb(1,"",l.item.image,""),e.qb(1,"",l.item.name,""))})}var a=l("F/XL"),f=l("bne5"),p=l("psW0"),h=l("67Y/"),d=l("xMyE"),g=l("VnD/"),b=l("mrSG"),y=l("FFOo"),m=l("T1DM"),w=function(){function t(t,n){this.period=t,this.scheduler=n}return t.prototype.call=function(t,n){return n.subscribe(new S(t,this.period,this.scheduler))},t}(),S=function(t){function n(n,l,e){var o=t.call(this,n)||this;return o.period=l,o.scheduler=e,o.hasValue=!1,o.add(e.schedule(v,l,{subscriber:o,period:l})),o}return b.c(n,t),n.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},n.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},n}(y.a);function v(t){var n=t.period;t.subscriber.notifyNext(),this.schedule(t,n)}function T(t,n,l,e){var o=window&&!!window.document&&window.document.documentElement,i=o&&n?window:l;if(t&&!(i=t&&o&&"string"==typeof t?function(t,n,e){return(e?window.document:l.nativeElement).querySelector(t)}(t,0,e):t))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return i}function O(t){return t&&!t.firstChange}var k={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},D={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},C=function(){function t(t){void 0===t&&(t=!0),this.vertical=t,this.propsMap=t?k:D}return t.prototype.clientHeightKey=function(){return this.propsMap.clientHeight},t.prototype.offsetHeightKey=function(){return this.propsMap.offsetHeight},t.prototype.scrollHeightKey=function(){return this.propsMap.scrollHeight},t.prototype.pageYOffsetKey=function(){return this.propsMap.pageYOffset},t.prototype.offsetTopKey=function(){return this.propsMap.offsetTop},t.prototype.scrollTopKey=function(){return this.propsMap.scrollTop},t.prototype.topKey=function(){return this.propsMap.top},t}();function x(t){return["Window","global"].some(function(n){return Object.prototype.toString.call(t).includes(n)})}function I(t,n){return t?n.document.documentElement:null}function H(t,n){var l,e,o=E((l=n).container,l.isWindow,(e=W(l.axis)).offsetHeightKey,e.clientHeightKey);return n.isWindow?function(t,n,l){var e=l.axis,o=l.container,i=l.isWindow,r=W(e),u=r.offsetHeightKey,c=r.clientHeightKey,s=t+K(I(i,o),e,i),a=E(n.nativeElement,i,u,c);return{height:t,scrolled:s,totalToScroll:function(t,n,l){var e=n.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[e]+K(t,n,l)}(n.nativeElement,e,i)+a,isWindow:i}}(o,t,n):function(t,n,l){var e=l.axis,o=l.container;return{height:t,scrolled:o[e.scrollTopKey()],totalToScroll:o[e.scrollHeightKey()],isWindow:!1}}(o,0,n)}function W(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function E(t,n,l,e){if(isNaN(t[l])){var o=I(n,t);return o?o[e]:0}return t[l]}function K(t,n,l){var e=n.pageYOffsetKey(),o=n.scrollTopKey(),i=n.offsetTopKey();return isNaN(window[e])?I(l,t)[o]:t.ownerDocument?t.ownerDocument.defaultView[e]:t[i]}function G(t,n,l){var e,o;if(t.totalToScroll<=0)return!1;var i=t.isWindow?t.scrolled:t.height+t.scrolled;return l?(e=(t.totalToScroll-i)/t.totalToScroll,o=n.down/10):(e=t.scrolled/(t.scrolled+(t.totalToScroll-i)),o=n.up/10),e<=o}var P=function(){function t(t){var n=t.totalToScroll;this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=n}return t.prototype.updateScrollPosition=function(t){return this.lastScrollPosition=t},t.prototype.updateTotalToScroll=function(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)},t.prototype.updateScroll=function(t,n){this.updateScrollPosition(t),this.updateTotalToScroll(n)},t.prototype.updateTriggeredFlag=function(t,n){n?this.triggered.down=t:this.triggered.up=t},t.prototype.isTriggeredScroll=function(t,n){return n?this.triggered.down===t:this.triggered.up===t},t}();var j={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function M(t){return{type:t.scrollDown?j.DOWN:j.UP,payload:{currentScrollPosition:t.stats.scrolled}}}var N=function(){function t(t,n){this.element=t,this.zone=n,this.scrolled=new e.m,this.scrolledUp=new e.m,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}return t.prototype.ngAfterViewInit=function(){this.infiniteScrollDisabled||this.setup()},t.prototype.ngOnChanges=function(t){var n=t.infiniteScrollDisabled,l=t.infiniteScrollDistance,e=O(t.infiniteScrollContainer),o=O(n),i=O(l),r=!o&&!this.infiniteScrollDisabled||o&&!n.currentValue||i;(e||o||i)&&(this.destroyScroller(),r&&this.setup())},t.prototype.setup=function(){var t=this;"undefined"!=typeof window&&this.zone.runOutsideAngular(function(){var n,l,e,o,i,r,u,c,s,b,y,S,v,O;t.disposeScroller=(n={fromRoot:t.fromRoot,alwaysCallback:t.alwaysCallback,disable:t.infiniteScrollDisabled,downDistance:t.infiniteScrollDistance,element:t.element,horizontal:t.horizontal,scrollContainer:t.infiniteScrollContainer,scrollWindow:t.scrollWindow,throttle:t.infiniteScrollThrottle,upDistance:t.infiniteScrollUpDistance},c=n.scrollContainer,s=n.scrollWindow,b=n.element,y=n.fromRoot,S=function(t,n){return Object.assign({},t,{container:t.isWindow||n&&!n.nativeElement?n:n.nativeElement})}({axis:(l={axis:new C(!n.horizontal),windowElement:T(c,s,b,y)}).axis,isWindow:x(e=l.windowElement)},e),v=new P({totalToScroll:H(b,S)}),O={up:n.upDistance,down:n.downDistance},(o={container:S.container,throttle:n.throttle},u=Object(f.a)(o.container,"scroll"),o.throttle&&(u=u.pipe((i=o.throttle,void 0===r&&(r=m.a),function(t){return t.lift(new w(i,r))}))),u).pipe(Object(p.a)(function(){return Object(a.a)(H(b,S))}),Object(h.a)(function(t){return function(t,n,l){var e=function(t,n,l){var e=function(t,n){return t<n.scrolled}(v.lastScrollPosition,n);return{fire:G(n,l,e),scrollDown:e}}(0,n,l);return{scrollDown:e.scrollDown,fire:e.fire,stats:n}}(0,t,O)}),Object(d.a)(function(t){var n=t.stats;return v.updateScroll(n.scrolled,n.totalToScroll)}),Object(g.a)(function(t){var l,e,o;return l=n.alwaysCallback,e=t.fire,o=v.isTriggeredScroll(t.stats.totalToScroll,t.scrollDown),!(!l||!e)||!(o||!e)}),Object(d.a)(function(t){v.updateTriggeredFlag(t.stats.totalToScroll,t.scrollDown)}),Object(h.a)(M))).subscribe(function(n){return t.zone.run(function(){return t.handleOnScroll(n)})})})},t.prototype.handleOnScroll=function(t){var n=t.payload;switch(t.type){case j.DOWN:return this.scrolled.emit(n);case j.UP:return this.scrolledUp.emit(n);default:return}},t.prototype.ngOnDestroy=function(){this.destroyScroller()},t.prototype.destroyScroller=function(){this.disposeScroller&&this.disposeScroller.unsubscribe()},t}(),U=function(){return function(){}}(),F=l("Ip0R"),V=l("26FU"),Y=l("t/Na"),z=console.log,L=function(){function t(t){this.http=t,this.pages=25,this.startPage=0,this.characterUrl="https://rickandmortyapi.com/api/character/",this.charackters$=new V.a([]),this.getCharacters()}return t.prototype.getCharacters=function(){var t=this;this.startPage>=this.pages?this.startPage=0:this.startPage++,z(this.startPage),this.onGetCharacters(this.startPage).pipe(Object(d.a)(function(n){return t.charackters$.next(t.charackters$.value.concat(n))})).subscribe()},t.prototype.onGetCharacters=function(t){return this.http.get(this.characterUrl+"?page="+t).pipe(Object(h.a)(function(t){return t.results}))},t.prototype.onGetCharacterById=function(t){return this.http.get(this.characterUrl+t)},t.ngInjectableDef=e.Ib({factory:function(){return new t(e.Mb(Y.c))},token:t,providedIn:"root"}),t}(),R=function(){function t(t){this.rickandmortyService=t}return t.prototype.ngOnInit=function(){},t.prototype.onScroll=function(){this.rickandmortyService.getCharacters()},t}(),$=e.mb({encapsulation:0,styles:[[".items[_ngcontent-%COMP%]{height:65vh;overflow-y:scroll;display:grid;grid-template-columns:repeat(4,1fr);grid-column-gap:1em;padding:1em}"]],data:{}});function B(t){return e.Gb(0,[(t()(),e.ob(0,0,null,null,1,"app-item",[],null,null,null,s,c)),e.nb(1,114688,null,0,u,[],{item:[0,"item"]},null)],function(t,n){t(n,1,0,n.context.$implicit)},null)}function q(t){return e.Gb(0,[(t()(),e.ob(0,0,null,null,3,"div",[["class","items"],["infiniteScroll",""]],null,[[null,"scrolled"]],function(t,n,l){var e=!0;return"scrolled"===n&&(e=!1!==t.component.onScroll()&&e),e},null,null)),e.nb(1,4866048,null,0,N,[e.k,e.z],{infiniteScrollDistance:[0,"infiniteScrollDistance"],infiniteScrollThrottle:[1,"infiniteScrollThrottle"],scrollWindow:[2,"scrollWindow"]},{scrolled:"scrolled"}),(t()(),e.db(16777216,null,null,1,null,B)),e.nb(3,278528,null,0,F.j,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,1,0,2,50,!1),t(n,3,0,n.context.ngIf)},null)}function X(t){return e.Gb(0,[(t()(),e.Eb(-1,null,[" ...\n"]))],null,null)}function _(t){return e.Gb(0,[(t()(),e.db(16777216,null,null,2,null,q)),e.nb(1,16384,null,0,F.k,[e.O,e.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),e.yb(131072,F.b,[e.h]),(t()(),e.db(0,[["loader",2]],null,0,null,X))],function(t,n){var l=n.component;t(n,1,0,e.Fb(n,1,0,e.xb(n,2).transform(l.rickandmortyService.charackters$)),e.xb(n,3))},null)}var A=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),J=e.mb({encapsulation:0,styles:[[""]],data:{}});function Z(t){return e.Gb(0,[(t()(),e.ob(0,0,null,null,1,"app-items",[],null,null,null,_,$)),e.nb(1,114688,null,0,R,[L],null,null)],function(t,n){t(n,1,0)},null)}function Q(t){return e.Gb(0,[(t()(),e.ob(0,0,null,null,1,"app-index",[],null,null,null,Z,J)),e.nb(1,114688,null,0,A,[],null,null)],function(t,n){t(n,1,0)},null)}var tt=e.kb("app-index",A,Q,{},{},[]),nt=function(){function t(t,n){this.rickandmortyService=t,this.route=n}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(n){return t.onGetCharacterById(n.id)})},t.prototype.onGetCharacterById=function(t){this.item$=this.rickandmortyService.onGetCharacterById(t)},t}(),lt=e.mb({encapsulation:0,styles:[[""]],data:{}});function et(t){return e.Gb(0,[(t()(),e.ob(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),e.ob(1,0,null,null,1,"app-item",[],null,null,null,s,c)),e.nb(2,114688,null,0,u,[],{item:[0,"item"]},null)],function(t,n){t(n,2,0,n.context.ngIf)},null)}function ot(t){return e.Gb(0,[(t()(),e.Eb(-1,null,[" loading . . . "]))],null,null)}function it(t){return e.Gb(0,[(t()(),e.ob(0,0,null,null,4,"div",[["class","page person-page"]],null,null,null,null,null)),(t()(),e.db(16777216,null,null,2,null,et)),e.nb(2,16384,null,0,F.k,[e.O,e.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),e.yb(131072,F.b,[e.h]),(t()(),e.db(0,[["loader",2]],null,0,null,ot))],function(t,n){var l=n.component;t(n,2,0,e.Fb(n,2,0,e.xb(n,3).transform(l.item$)),e.xb(n,4))},null)}function rt(t){return e.Gb(0,[(t()(),e.ob(0,0,null,null,1,"app-person-page",[],null,null,null,it,lt)),e.nb(1,114688,null,0,nt,[L,r.a],null,null)],function(t,n){t(n,1,0)},null)}var ut=e.kb("app-person-page",nt,rt,{},{},[]),ct=function(){return function(){}}();l.d(n,"RickandmortyPageModuleNgFactory",function(){return st});var st=e.lb(o,[],function(t){return e.vb([e.wb(512,e.j,e.Y,[[8,[i.a,tt,ut]],[3,e.j],e.x]),e.wb(4608,F.m,F.l,[e.u,[2,F.w]]),e.wb(1073742336,F.c,F.c,[]),e.wb(1073742336,r.o,r.o,[[2,r.t],[2,r.k]]),e.wb(1073742336,ct,ct,[]),e.wb(1073742336,U,U,[]),e.wb(1073742336,o,o,[]),e.wb(1024,r.i,function(){return[[{path:"",component:A},{path:":id",component:nt}]]},[])])})}}]);